<!DOCTYPE html>
<html>
    <head>
        <title>Uceni se s D3js</title>
        <meta charset="windows-1250">

        <script src="http://service.ihned.cz/js/modernizr/v2.6.2.svg.min.js"></script>
        <script src="http://service.ihned.cz/js/jquery.min.js"></script>
        <script src="http://service.ihned.cz/js/d3/v3.2.8.min.js"></script>

        <style>		
            div.bar {
                display: inline-block;
                width: 20px;
                height: 75px;	/* Gets overriden by D3-assigned height below */
                margin-right: 2px;
                background-color: teal;
            }
            .container.c1 div.bar {
                background-color: red;
            }
        </style>

    </head>
    <body>

        <script>
            var data_kvartal = [];
            var data_rok = [];
            var data_veu = [];
            var data_mimoeu = [];
            // ----------------------------------------------------
            d3.tsv("data/data.tsv", function(error, data) {
                data.forEach(function(d) {
                    d.Kvartal;
                    d.Rok = +d.Rok; // +d (pretypovani na cislo v JavaScriptu)
                    d["v EU"] = +d["v EU"];
                    d["mimo EU"] = +d["mimo EU"];

                    data_kvartal.push(d.Kvartal);
                    data_rok.push(d.Rok);
                    data_veu.push(d["v EU"]);
                    data_mimoeu.push(d["mimo EU"]);
                });

                console.log(data_kvartal);
                console.log(data_rok);
                console.log(data_veu);
                console.log(data_mimoeu);

                d3.select("body").selectAll("div.container")
                        .data([data_veu, data_mimoeu])
                        .enter()
                        .append("div")
                        .attr("class", function(d, index) {
                    return ("container c" + index);
                })

                        .selectAll("div.container")
                        .data(function(d) {
                    return d;
                })
                        .enter()
                        .append("div")
                        .attr("class", "bar")


                        .style("height", function(d) {
                    var barHeight = d * 5;
                    return barHeight + "px";
                });
                
            });
        </script>

    </body>
</html>
